<!DOCTYPE html>
<html>
<head>
	<title>Brian - Home</title>
	<!-- Import custom google font -->
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
	<!-- Import site stylesheet -->
	<link rel="stylesheet" type="text/css" href="style.css">
	<!-- Import jquery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<!-- Custom javascript -->
	<script>
		// Wait for the dom to load
		$(document).ready(function() {
			// Initial component sizing
			resizeComponents();

			// On window resize
			$(window).on("resize", function() {
				resizeComponents();
			});

			// ########### CUSTOM FUNCTIONS ###########

			// Size the various components for the window width/height
			function resizeComponents() {
				// Fit the title to the height
				fitTitle();
				/*
				// Resize content nav panes
				resizeContentNav();
				// Resize nested nav panes
				resizeNestedContainers();
				*/
			}

			// Fit the title text to the height of the document
			function fitTitle() {
				// Rotate the title text so that it's vertical and place it in the
				// middle of the title-container
				$("#title").attr("transform", "translate(" + $("#title-container").width()/2 + ", " + $(document).height()/2 + ") rotate(270)");

				// TODO: [5] See if the dynamic title sizing can be made cleaner
				// Resize the title text as a function of the document width
				var titleFontSize = $(document).width()/400;
				$("#title").css("font-size", titleFontSize + "em");
				// Get the approximate length of the title based on the font size
				var titleTextInitialWidth = titleFontSize*110;
				// Space the title letters so that they mostly fill the height
				$("#title").attr("letter-spacing", ($(document).height()-titleTextInitialWidth)/15);
			}

			// Resize the main content navigation panes
			function resizeContentNav() {
				// Get the width of the nav container borders & padding
				var navContainerBorderWidth = $(".nav-container").outerWidth()-$(".nav-container").width();
				// Set the width of the main nav container area
				$("#main").css("width", ($(document).width()-$("#title-container").outerWidth()));
				// Set the height of the nav containers as a percentage
				$("#thoughts").css("flex-basis", ($(document).height()*.6)-navContainerBorderWidth);
				$("#projects").css("flex-basis", ($(document).height()*.4)-navContainerBorderWidth);
				$("#social").css("flex-basis", ($(document).height()*.4)-navContainerBorderWidth);
				$("#media").css("flex-basis", ($(document).height()*.6)-navContainerBorderWidth);
			}

			function resizeNestedContainers() {
				// Get the width of the nested nav container borders & padding
				var nestedNavContainerBorderWidth = $(".nav-container-nested").outerWidth()-$(".nav-container-nested").width();
				//alert(nestedNavContainerBorderWidth);
				// Set the height of the nested nav containers as a percentage
				$("#blog").css("flex-basis", ($("#blog").parent().height()*1)-nestedNavContainerBorderWidth);
				$("#dreams").css("flex-basis", ($("#dreams").parent().css("flex-basis").slice(0,-2)*.5)-nestedNavContainerBorderWidth); $("#stories").css("flex-basis", ($("#stories").parent().css("flex-basis").slice(0,-2)*.5)-nestedNavContainerBorderWidth);
			}
		});
	</script>
</head>
<body>
	<!-- Title with my name on left hand side -->
	<svg id="title-container">
		<!-- Text of title -->
		<text id="title" text-anchor="middle" dominant-baseline="central">Brian Schmoker</text>
	</svg>

	<!-- Main navigation panes -->
	<div id="main">
		<div id="thoughts" class="nav-container">
			<div id="border-animate-test"></div>

			<div id="blog" class="nav-container-nested">
				Blog
			</div>
			<div id="dreams" class="nav-container-nested">
				Dreams
			</div>
			<div id="stories" class="nav-container-nested">
				Stories
			</div>

			<!--<span class="nav-container-title">Thoughts</span>-->
			<!--
			<svg width="100%" height="100%">
				<text text-anchor="middle" dominant-baseline="central">Thoughts</text>
			</svg>
			-->
		</div>
		<div id="projects" class="nav-container">
			<span class="nav-container-title">Projects</span>
		</div>
		<div id="social" class="nav-container">
			<span class="nav-container-title">Social</span>
		</div>
		<div id="media" class="nav-container">
			<span class="nav-container-title">Media</span>
		</div>
	</div>
</body>
</html>
